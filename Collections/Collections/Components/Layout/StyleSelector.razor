@inject NavigationManager Navigation
@inject IStringLocalizer<Resource> localizer
@inject IHttpContextAccessor _HttpContextAccessor

<div class="d-flex row-cols-3 text-nowrap align-items-center">

    <span><i class="bi bi-brightness-high-fill"></i></span>
    <span class="form-check form-switch align-items-center m-0">
        <input @bind="Style" class="form-check-input" type="checkbox"
               role="switch" id="flexSwitchCheckDefault">
    </span>
    <span><i class="bi bi-moon-stars-fill"></i></span>
</div>

@code {
    private bool style;

    protected override void OnInitialized()
    {
        style = bool.Parse(_HttpContextAccessor
            .HttpContext?.Request.Cookies["style"] ?? "false");
    }

    public bool Style
    {
        get { return style; }
        set
        {
            style = value;
            Navigation.NavigateTo($"/style?style={style.ToString()}", true);
        }
    }
}
